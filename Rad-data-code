import time
import math
import RPi.GPIO as GPIO 
GPIO.setmode(GPIO.BCM)

chan_list = [4,5]
GPIO.setup(chan_list, GPIO.IN)

n = 0

#while GPIO.input(5) == GPIO.HIGH:
#	print(n)
#	time.sleep(0.01)
#	print(n)
print(n)


print(n)
timeout = 5
print(n)
timeout_start = time.time()
print(n)

def my_callback(channel):
    print('This is a edge event callback function!')
    print('Edge detected on channel %s'%channel)
    print('This is run in a different thread to your main program')

GPIO.add_event_detect(5, GPIO.FALLING, callback=my_callback)
print(n)
while time.time() < timeout_start + timeout:
	#print(n)
	#if GPIO.input(5) == GPIO.LOW:
	if GPIO.event_detected(5):
		n += 1
		print(n)
		time.sleep(0.01)
print(n)
